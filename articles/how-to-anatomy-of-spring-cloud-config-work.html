<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>How to use Anatomy of Spring cloud config work?</title>
    <meta name="description" content="In this article, you’ll learn Anatomy of Spring Cloud Configuration - Centralized, Versioned Configuration with separates Examples." />
    <meta name="keywords" content="Spring Cloud, Anatomy, config server, Spring Boot, Microservice" />
    <link rel="canonical" href="https://www.nexsoftsys.com/articles/how-to-anatomy-of-spring-cloud-config-work.html" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="How to use Anatomy of Spring cloud config work?" />
    <meta property="og:description" content="In this article, you’ll learn Anatomy of Spring Cloud Configuration - Centralized, Versioned Configuration with separates Examples." />
    <meta property="og:url" content="https://www.nexsoftsys.com/articles/how-to-anatomy-of-spring-cloud-config-work.html" />
    <meta property="og:site_name" content="NEX Softsys" />
    <meta property="article:publisher" content="https://www.facebook.com/NexSoftSys/" />
    <meta property="article:section" content="Trending" />
    <meta property="og:image" content="https://www.nexsoftsys.com/articles/images/Anatomy-of-Spring-cloud-config-work.jpg" />
    <meta property="og:image:secure_url" content="https://www.nexsoftsys.com/articles/images/Anatomy-of-Spring-cloud-config-work.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:description" content="In this article, you’ll learn Anatomy of Spring Cloud Configuration - Centralized, Versioned Configuration with separates Examples." />
    <meta name="twitter:title" content="How to use Anatomy of Spring cloud config work?" />
    <meta name="twitter:site" content="@nexsoftsys" />
    <meta name="twitter:image" content="https://www.nexsoftsys.com/articles/images/Anatomy-of-Spring-cloud-config-work.jpg" />
    <meta name="twitter:creator" content="@nexsoftsys" />

    <link type="image/x-icon" href="../images/favicon.ico" rel="shortcut icon" />
    <link rel="apple-touch-icon" sizes="57x57" href="../images/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="../images/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="../images/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="../images/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="../images/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="../images/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="../images/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="../images/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png" />
    <link rel="manifest" href="../images/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="images/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Google Analytics -->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-64517863-1', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- Google Analytics /- -->

    <!-- Library -->
    <link rel="stylesheet" type="text/css" href="../css/lib.css">

    <!-- Custom - Common CSS -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/navigation.css">
    <link rel="stylesheet" type="text/css" href="../style.css" />

    <noscript>
        <div class="ndiv">
            <div class="ntext">
                <b>JavaScript Required</b>
                <p>We're sorry, but we doesn't work properly without JavaScript enabled.</p>
            </div>
        </div>
    </noscript>
</head>

<body>
    <!-- Header Section -->
    <div id="return-to-top"><i class="fa fa-angle-up"></i></div>

    <header class="header_s">
        <!-- ===== Popup Box ===== -->
        <section class="top-box">
            <div class="container">
                <div class="row">
                    <div class="col-12 same-line">
                        <div class="contain-box">
                            <p>Looking for an Expert Development Team? Take two weeks Trial! <a href="javascript:;" id="myBtn">Try Now</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="modal" id="myModal">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close">&times;</span>
                    <strong>Free 2 Week Trial</strong>
                </div>
                <div class="modal-form">
                    <form>
                        <div class="form-group">
                            <label>Your Name *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Name" placeholder="Your Name" />
                        </div>
                        <div class="form-group">
                            <label>Your Email *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Email" placeholder="Your Email" />
                        </div>
                        <div class="form-group">
                            <label>Your Mobile *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Phone" placeholder="Your Mobile" />
                        </div>
                        <div class="form-group">
                            <label>Subject</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Subject" placeholder="Subject" />
                            <input type="hidden" id="txt2Page" value="" />
                        </div>
                        <div class="form-group">
                            <label>Your Message</label>
                            <textarea class="form-control" cols="5" rows="5" placeholder="Your Message" id="txt2Message" name="message"></textarea>
                        </div>
                        <div class="form-group">
                            

<img id="imgCaptchaRFP" alt="captcha" src="" class="captcha-style" />
                            <input class="form-control captcha-txt" type="text" placeholder="Captcha" id="txt2Captcha" name="txtCaptcha" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" id="btn2WeekSubmit" value="Send" name="Submit">Send</button>
                    <p><span id="lbl2WeekInfo" class="lblblack"></span></p>
                </div>
            </div>
        </section>
        <!-- # -->
        <div class="container-fluid">
            <div class="menu-block">
                <div class="mobile-sticky-footer">
                    <a target="_blank" class="skype" href="skype:aegissoftware?call"><i class="fa fa-fw" aria-hidden="true" title="Skype"></i></a>
                    <a target="_blank" class="whatsapp" href="https://api.whatsapp.com/send?phone=919824127020&text=Hi&sbquo;&nbsp;I&nbsp;am&nbsp;Connect&nbsp;through&nbsp;your&nbsp;website"><i class="fa fa-fw" aria-hidden="true" title="Whatsapp"></i></a>
                    <a target="_blank" class="inquiry" href="tel:+16469710799"><i class="fa fa-fw" aria-hidden="true" title="Phone"></i></a>
                    <a target="_blank" class="case-studies" href="mailto:info@nexsoftsys.com"><i class="fa fa-fw" aria-hidden="true" title="Email"></i></a>
                    <a href="../rfp.html" class="client-speaks"><i class="fa fa-fw" aria-hidden="true" title="RFP"></i></a>
                </div>	
                <div class="container">
                    <nav class="menu-navigation">
                        <div class="logo-block">
                            <a class="navbar-brand" href="/">
                                <img src="../images/logo.png" alt="logo" />
                            </a>
                        </div>
                        <a class="menuswitch" href="#">
                            <span class="menuline bar1"></span>
                            <span class="menuline bar2"></span>
                            <span class="menuline bar3"></span>
                        </a>
                        <div class="menu-collapse">
                            <ul class="navigation-menu">
                                <li><a href="/">Home</a></li>
                                <li><a href="../company.html">About Us</a></li>
                                <li class="dropdown">
                                    <i class="ddl-switch"></i>
                                    <a href="#">Services</a>
                                    <ul class="dropdown-menu">
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/application-development.html">Application Development</a></li>
                                            <li><a href="#">Digital Transformation</a></li>
                                            <li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
                                            <li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
                                            <li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/big-data-services.html">Big Data</a></li>
                                            <li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
                                            <li><a href="#">Block Chain</a></li>
                                            <li><a href="../services/devops-consulting.html">DevOps</a></li>
                                            <li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
                                            <li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
                                            <li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
                                            <li><a href="#">Business Intelligence</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
                                            <li><a href="#">Data Integration</a></li>
                                            <li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
                                            <li><a href="#">Dashboards</a></li>
                                        </div>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <i class="ddl-switch"></i>
                                    <a href="#">Technologies</a>
                                    <ul class="dropdown-menu two_col">
                                        <div class="dropdown-menubox">
                                            <li><a href="../technologies/java-application-development.html">Java</a></li>
                                            <li><a href="../technologies/python-development-services.html">Python</a></li>
                                            <li><a href="../technologies/scala-development.html">Scala</a></li>
                                            <li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../technologies/android-app-development.html">Android</a></li>
                                            <li><a href="../technologies/ios-application-development.html">iOS</a></li>
                                            <li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
                                        </div>
                                        <div class="dropdown-menubox microsoft_nested">
                                            <li class="full_width"><strong>Microsoft</strong></li>
                                            <li><a href="../technologies/net-application-development.html">.Net Development</a></li>
                                            <li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
                                            <li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
                                            <li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
                                            <li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
                                            <li><a href="#">Power BI</a></li>
                                        </div>
                                    </ul>
                                </li>
                                <li><a href="/articles/">Blog</a></li>
                                <li><a href="../contact.html" class="menu-box">Contact Us</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section /- -->

    <div class="b-notification-bar">
            <!-- Social Links -->
            <ul class="btnlist">
                <li class="item skype">
                    <a href="skype:aegissoftware?call">
                        <div class="sticky-box">
                            <p><i class="fa fa-skype"></i></p>
                            <p>Skype</p>
                        </div>
                    </a>
                </li>
            </ul>
            <!-- # Social Links -->

            <!-- Inquiry Form -->
            <ul class="btnlist">
                <li class="item inquiry">
                    <div id="inquiry_form" class="btn sticky-box">
                        <p><i class="fa fa-envelope" aria-hidden="true"></i></p>
                        <p>Quick Inquiry</p>
                    </div>
                    <div class="info-box inq">
                        <img src="images/close-icon.png" class="closeInquiry" alt="close" />
                        <strong class="title">Fill the details and We’ll get back to you soon</strong>
                        <form>
                            <div class="inquiry-box">
                                <div class="form-group fullwidth">
                                    <textarea class="form-control" id="txtcomments" placeholder="Tell us your requirements"></textarea>
                                </div>
                                <div class="form-group-block">
                                    <div class="form-group">
                                        <input class="form-control" id="txtphone" placeholder="Phone" type="text" onkeydown="javascript:backspacerDOWN(this, event);" onkeyup="javascript:backspacerUP(this, event);">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control" id="txtemail" placeholder="Email" type="email">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control" id="txtskype" placeholder="Skype" type="text">
                                    </div>
                                    <div class="form-group">
                                        <img id="imgCaptcha" alt="captcha" src="/Captcha.ashx" />
                                        <input class="form-control" type="text" placeholder="Captcha" id="txtCaptcha" name="txtCaptcha" />
                                    </div>
                                    <div class="form-group Clear">
                                        <button type="button" id="btnSubmit" value="Submit" name="Submit" class="btn-submit">Submit</button>
                                    </div>
                                    <div class="form-group Clear">
                                        <span id="lblInfo"> </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </li>
            </ul><!-- Inquiry Form /- -->
            <!--Btns-->
            <ul class="btnlist">
                <li class="item case-studies">
                    <div class="btn sticky-box" onClick="window.location.href='../casestudy/java/java-case-studies.html'">
                        <p><i class="fa fa-check-square-o" aria-hidden="true"></i></p>
                        <p>Case Studies</p>
                    </div>
                </li>
                <li class="item client-speaks">
                    <div class="btn sticky-box" onClick="window.location.href='../testimonials/java-testimonials.html'">
                        <p><i class="fa fa-smile-o" aria-hidden="true"></i></p>
                        <p>Client Speaks</p>
                    </div>
                </li>
            </ul><!--Btns-->
        </div>

    <div class="Inner-Banner">
        <div class="Page-Size">
            <h1>How does Anatomy of Spring cloud config work?</h1>
        </div>
    </div>

    <div class="Page-Size margh2">
        <div class="Text Width-100">
            <h2>Introduction to Spring Cloud:</h2>
            <div class="single-article-img"><img src="images/Anatomy-of-Spring-cloud-config-work.jpg" alt="Anatomy of Spring cloud config work"/></div>
            <p>Spring Cloud: Spring cloud libraries are intended to be used by spring boot applications. They are not intended to be utilized using just the spring framework although it is possible. All of the dependency management is based on spring boot. Most importantly the startup process of the application is usually altered slightly, and the application context is not created in the same straight forward way as a normal spring framework-based application. I am not going to the details here about the spring framework, but I am completely focusing on the spring cloud configuration and service discovery.</p>
            <p><strong>Spring Cloud Dependencies Walk Through:</strong></p>
            <ul class="listing">
                <li>
                    <p>Spring Cloud is a sub-project within the Spring IO Umbrella, and it is itself is an Umbrella project. The point of Spring cloud is to address common patterns in distributed computing which are commonly encountered in cloud environments when using Microservice architectures.</p>
                </li>
                <li>
                    <p>Spring cloud makes it easy to use the main Netflix libraries. Now, the common dependency that you will see in the spring cloud projects is the parent pom:</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Look at this POM file in the above image, this, in turn, references the spring boot parent pom. The parent is specified here in this pom file. If you take a regular spring boot project, you have to add the dependency as “spring-boot-starter-parent”. So here I just replaced the word cloud with boot and then it will become the spring boot parent pom. Next in the dependency section here, you have to add the relevant dependency for what you are trying to bring in. The group id will be always “org.springframework.cloud”.</p>
                </li>
                <li>
                    <p>Many projects already specified apparent for their own needs usually an organization standard. We can add always the maven’s dependency management section. It will allow us to reference the parent pom without actually making it the parent. You can think of this as multiple inheritances. The pom will look like as below:</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config1.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
            </ul>
            <h3>Spring Cloud Configuration</h3>
            <p>This module is about centralized versioned configuration management for distributed cloud-based application. Now, I am going to explain what Spring Cloud Config is and how we can build and run our own spring cloud config server is. Also, I am going to explain how you can establish your own repository for holding configuration information.</p>
            <p><strong>Application Configuration:</strong></p>
            <p>As you know that Applications have connections to resources like databases or message queues or email servers and also, they need to call other applications. For example, they might need to call web services. Now usually when we have credentials for databases or URLs that connect it to specify message queues and such then we usually do not hardcode that in our code. So, for this we use external configuration to dynamically adjust the application behavior to describe where the resources are located and how to connect to a database.</p>
            <p><strong>Different configuration options available:</strong></p>
            <ul class="listing">
                <li>
                    <p><strong>Package configuration files with Application:</strong> One of the things we can do is to externalize the configuration from our code and put it in our configuration file and we can package that with our application. In this case, if you have any kind of change to your application configuration, then you need to rebuild your application and then redeploy. So, it is not the most dynamic way.</p>
                </li>
                <li>
                    <p><strong>Use Environment Variable:</strong> We can use environment variables as a configuration option. This env. Variables work differently in different platforms. If we have a large number of individual variables, then it is very difficult to manage. It is also difficult to duplicate. We could miss any env. Variable. So, it is problematic.</p>
                </li>
                <li>
                    <p><strong>Use Cloud-vendor specific Solution:</strong> Suppose for example, if we are using PCF(Pivotal cloud foundry) as your cloud env, then we can use their “v_cap services” variable. So, here we will be coupling our application to a specific environment. So, if I am running my app on cloud foundry, then I would have to have a library that would know how to interpret the cloud foundry specific settings and make it available to my application.</p>
                </li>
            </ul>
            <p><strong>Challenges for application configuration:</strong></p>
            <ul class="listing">
                <li>
                    <p><strong>Microservice:</strong> when we have Microservice apps, then we have a large number of dependent services and then we will have a greater need for the application configuration. If we manually setup our relationships between different services, then there is a lot of manual work we have to do.</p>
                </li>
                <li>
                    <p><strong>Dynamic Updates:</strong> Dynamic update means if we are making changes to our configuration, then we can do it automatically and our application will automatically pick up the changes, now when we use environment variables, our application code can get the new changes and rebuild the app and then redeploy.</p>
                </li>
                <li>
                    <p><strong>Version control:</strong> It is always nice to have some trackability when we are talking about configuration changes. If we have version control, then we can put our configuration changes in version control as it is just a simple file then it is really easy to have the traceability.</p>
                </li>
            </ul>
            <p><strong>Desired Solution for Configuration Management:</strong></p>
            <ul class="listing">
                <li>Platform/Cloud Independent solution</li>
                <li>Centralized or a very few discrete sources of our choosing</li>
                <li>Dynamic: Ability to update settings while an application is running.</li>
                <li>Controllable: Source code management choices</li>
                <li>Passive: Applications should do most of the work themselves by self-registering with some kind of central repo.</li>
            </ul>
            <p>These are the things exactly that the Spring cloud is going to come in.</p>
            <h3>Configuration Management in Spring Cloud</h3>
            <ul class="listing">
                <li>
                    <p><strong>Spring Cloud Config:</strong> It is for providing a centralized location for applications to get their configuration information. It is externalized from the applications Spring cloud config provides externalized secured and easy-to-reach source of application configuration.</p>
                </li>
                <li>
                    <p><strong>Spring cloud bus:</strong> This is going to provide a simple way to push changes out and to notify clients about the config changes. Cloud bus provides a simple way to push dynamic changes out and</p>
                </li>
                <li>
                    <p><strong>Spring Cloud Netflix Eureka:</strong> This is about service discovery and it allows applications to register themselves as up and ready to go.</p>
                </li>
            </ul>
            <h3>Demo on Spring Cloud Config</h3>
            <ul class="listing">
                <li>
                    <p>Spring cloud-config is simply an application that is designated as a centralized server that serves up configuration information. The configuration information itself is backed by some kind of source control. The idea with spring cloud-config is that the client applications can connect over HTTP and they can retrieve their configuration settings when they startup. They can do this in addition to their internal sources of configuration be it internally package files or environment variables.</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config2.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Please look at the above image, we have config server and few spring client applications that are connecting to the config server. The config server is something that we can run multiple copies of it. We can put this behind the load balancer which I have not mentioned here. The config server can serve up configuration information that comes from backing files on many different sources. There are two sides to a spring cloud-config. There is a spring cloud config server and there is a spring cloud config client.</p>
                </li>
                <li>
                    <p>Config server is available in the GitHub URL mentioned below:</p>
                    <p><a href="https://github.com/spring-cloud-samples/configserver" target="_blank">https://github.com/spring-cloud-samples/configserver</a></p>
                </li>
            </ul>
            <p><strong>The Server Side configurations and code:</strong></p>
            <ul class="listing">
                <li>
                    <p>I am going to show you how to build your config server. Now, let’s start by building a spring boot project and then altering the dependencies slightly. For the parent, we need to change the group id to “org.springframework.cloud” and change the artifact to “spring-cloud-starter-parent”. Put the latest version of spring cloud. Once, the parent is established, then there is one dependency that we have to add is “spring-cloud-config-server”. This contains all the libraries needed to support the running of a config server.</p>
                </li>
                <li>
                    <p>Now, we need to specify in the spring cloud config server’s internal configuration file (“application.yml” file) where it should go and when it needs to find the actual config info. Itself that needs to be served up. In this application yaml file, the spring cloud config server is using a git URI so that it will go out to GitHub to obtain the config. Information.</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config3.jpg" alt="Anatomy of Spring cloud config work"/></div>
                    <p><strong>Note:</strong> We can use application .properties file also to do the same thing.</p>
                </li>
                <li>
                    <p>The next step is: In your spring boot application, in one of your configuration classes such as your main application class, just add annotation “@EnableConfigServer”</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config4.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>Now, just build your app and run. When you run your app, you typically have to run multiple instances in a prod. Env. And also, you might want to run them behind a load balancer. But for all these scenarios, you have to just make a jar file or war file out of your application code and deploy as a war that is it.</li>
            </ul>
            <p><strong>The Client-Side configurations and code:</strong></p>
            <ul class="listing">
                <li>
                    <p>On the client-side, you can switch the parent pom the same by doing the boot-cloud replacement. But this might not be desirable in all situations. You may already be using the parent pom for a different purpose. So, if you would not change the parent pom, then as I told earlier, you can add a “dependency management” section with the spring cloud starter parent. Refer to the earlier snapshot.</p>
                </li>
                <li>
                    <p>Spring cloud starter brings in the basic spring cloud dependencies and this is the only dependencies we need on the client-side.</p>
                </li>
                <li>
                    <p>Next, there are 2 properties that we need to configure as soon as the server starts up. These two properties are the name of our application and the location of the config server.</p>
                    <p><strong>bootstrap.properties file:</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config5.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>These details require to be loaded early, we will put these in the “bootstrap.properties or yaml file. In spring cloud, the application context is initially loaded by using the bootstrap.properties file and it connects to the config server to obtain additional properties and then these values are used to control a separate application context i.e. loaded using the application.properties file. So, there are two application contexts loaded and one is for bootstrapping the application and then the other is the main startup file that happens afterward.</p>
                </li>
                <li>
                    <p>The client will connect at startup time and then contribute the discovered properties to the main application context when it starts.</p>
                </li>
                <li>
                    <p>Spring cloud config server uses an abstraction (an interface actually) called “EnvironmentRepository”. Two implementations are available to us in spring cloud config are</p>
                </li>
                <li>
                    <p>Git-based Implementation</p>
                </li>
                <li>
                    <p>Native implementation ( means local files or flat files)</p>
                </li>
                <li>
                    <p>Now, if you have a different source control system, then you need to provide your implementation for environment repository. In a repo, we will put flat files.</p>
                </li>
                <li>
                    <p>The config files that we can place in the repo. Are expected to abide by a naming convention. The basic part of the naming convention is that a file should be named after the spring application name that it corresponds to. It will be as below :</p>
<xmp>
<spring.application.name> -<profile>.yml or. properties
</xmp>
                </li>
                <li>
                    <p>The spring.application.name is the property that is set by the client application bootstrap yaml or properties file. The “profile” is the client application’s active profile i.e. spring.profile.active</p>
                </li>
                <li>
                    <p>The next part is to obtain the settings from the server. The client application is actually going to make an HTTP call and it is going to call the server and port that we specify and it will use its application name as a key and then it will add the active profile. Structure will be like below:</p>
<xmp>
http://<server>:<port>/<spring.application.name>/<profile>
</xmp>
                </li>
            </ul>
            <p><strong>Note:</strong> If there are no active profile, then it will take the default profile. Spring clients do this automatically on startup.</p>
            <p><strong>Environment Repository Example:</strong></p>
            <p>Let’s assume that we have a client application and its name is “cloud-demo” and the profile name is “dev”. So, the file name will be “cloud-demo-dev.yml”. Now, when the spring cloud config server consults the file in the repository, it will look for files that match the application name and the profile specified.</p>
            <p><strong>Note:</strong> In YAML format of the file, it can hold multiple properties within a single file. If we use properties file, then for two different profiles, we have to create two properties file but the same can be done in the same yaml file.</p>
            <p><strong> How Properties work in Spring Application:</strong> Every Spring application context has an “Environment” object in it that is populated by the container. Environment object contains multiple “PropertySources”. Propertysource is nothing but a source of property that came from somewhere. Now Spring application context will automatically populate property sources from the environment variables where an app is running and from the system properties that we specify when we launch the app. Also, we can specify our property source to pick up the external property files.</p>
            <p> When the spring app starts up and it uses spring cloud config on a client-side, then the library simply alters the set of behaviors just to add another property source and it populates that property source by connecting to the server over HTTP using the below URL and getting the response back and populating the property source :</p>
<xmp>
http://<server>:<port>/<spring.application.name>/<profile>
</xmp>
            <p>Properties that are described by the server become part of the client application environment.</p>
            <p><strong>Note:</strong> Spring cloud server exposes properties over a restful interface using HTTP. It is reasonably easy to make this call to the server from any application.</p>
            <p><strong>What if Config server is Down?</strong></p>
            <p> In Microservice Applications, when we have different Microservice, talking to each other and if config server is down, then this will create a big problem. Actually, Spring cloud config server is recommended to be run in multiple instance.  So, if we are running on cloud foundry or AWS, then we will have several instances running behind a load balancer.</p>
            <p> Client application can specify the ultimate policy of how to handle the missing config server. There is a setting called “spring-cloud .config.failFast=true”. The default value is false. The default is that we do not want to fail. The client does not want to fail. And if we do not want this behavior then we can set failFast to true and this will make the client not to run without config server being provided. Config server setting overrides any local settings that we have. We can provide local fallbacks for our settings then we can have the config sever override this.</p>
            <p><strong>Read more - </strong><a href="https://www.nexsoftsys.com/articles/how-to-setup-spring-cloud-config.html" target="_blank">How to Setup SPRING CLOUD CONFIG</a></p>
            <h3>Demo on Spring Cloud Config Server and Client</h3>
            <p><strong>Config Server creation:</strong></p>
            <ul class="listing">
                <li>
                    <p>First, create a normal spring boot maven project. I believe you are more familiar with the basic spring boot applications. I have named the project “config-1-server” and also have used this as the Artifact value.</p>
                </li>
                <li>
                    <p>Please go to your POM file and add a “Dependency Management” section after <properties> section of the POM just to identify the spring cloud parent POM as I have already mentioned earlier. "Hoxton.RELEASE” is the version name I have given here. Example, I have given below:</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config6.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Then, need to add a dependency for the group "org.springframework.cloud" an artifact "spring-cloud-config-server". Version is not required to mention as this is already mentioned in the spring-cloud-dependencies POM. Added the below dependency in my pom:</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config7.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Now, I have created the main Application class (DemoApp.java). Please see the below class. I have added the @EnableConfigServer to this class.</p>
                    <p><strong>DemoApp.java</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config8.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>Then the next part is we have to create a new repository on GitHub to hold our application configuration data. So, I have created the repository named "ConfigurationData”.</li>
                <li>
                    <p>Then under this “ConfigurationData “repo, I have added a new file named "demo-client.yml”. This file contains a key called "country-word" and value of "Indian”. You can give your own key-value pairs of your choice.</p>
                    <p><strong>demo-client.yml</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config9.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Now, let’s move back to our spring boot project and will create an “application.yml” file in my classpath root (under src/main/resources). Need to specify the key "spring.cloud.config.server.git.uri" and the value "<a href="https://github.com/"YOUR-GITHUB-ID"/ConfigurationData" target="_blank">https://github.com/"YOUR-GITHUB-ID"/ConfigurationData</a>". “ConfigurationData” is our repo. Name here.</p>
                </li>
            </ul>
            <p><strong>Note:</strong> You can create “application.properties” file also. Either of these is fine. I have set the “server.port” to 8001.</p>
            <p><strong>application.yml file</strong></p>            
            <div class="single-article-img"><img src="images/spring-cloud-config10.jpg" alt="Anatomy of Spring cloud config work"/></div>
            <p>We can test our application by running the application. Open up your browser and hit the URL “<a href="JavaScript:;">http://localhost:8001/demo-client/default/</a>”. You will be able to see the JSON response in the browser i.e. actually used by Spring. If any issue, then you should check your project setup.</p>
            <p><strong>Config Client creation:</strong></p>
            <ul class="listing">
                <li>
                    <p>Now, let’s create a new, individual Spring Boot application and this will be a client app with a name the project is “config-1-client ". We have to use this same project name value for the Artifact. Also, I have added spring-boot-starter-web dependency.</p>
                </li>
                <li>
                    <p>Then, we have to add a “Dependency Management” section the same as what we did for our “config-1-server” project’s pom file to identify the spring cloud parent pom.</p>
                </li>
                <li>
                    <p>Then, need to add a dependency for the group "org.springframework.cloud" an artifact "spring-cloud-starter-config”. I have not specified a version as this is already defined in the parent pom’s dependency management section. below dependency we have to add:</p>
                    <div class="single-article-img"><img src="images/spring-cloud-config11.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Now, we have to create a bootstrap.yml file (or bootstrap.properties) file in my class path root (under src/main/resources). In spring cloud, the application context is initially loaded by using the bootstrap.properties file and it connects to the config server to obtain additional properties</p>
                    <p>I have added the following configurations in my bootstrap.yml file.</p>
                    <p><strong>bootstrap.yml file</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config12.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
            </ul>
            <p><strong>Note:</strong> The server.port config value can be specified in either file (the application.yml or bootstrap.yml), but the URI to the config server must be specified in bootstrap.yml as it affects the startup sequence</p>
            <p> Now, we have to create a Rest controller class (“MyController.java) to obtain the key-value pair that we have specified in our demo-client.yml file. In this class, I have a Get mapping method named showWord() which will fetch the value of the “country-word” key.</p>
            <p><strong>MyController.java</strong></p>
            <div class="single-article-img"><img src="images/spring-cloud-config13.jpg" alt="Anatomy of Spring cloud config work"/></div>
            <p>Now, we can verify our rest end-point by accessing the below URL to get the “country-word” value displayed in the browser. Also, you can test in your postman</p>
            <p>URL: <a href="JavaScript:;">http://localhost:8002/country-word</a></p>
            <p><strong>Configuration with Spring Profiles:</strong></p>
            <ul class="listing">
                <li>
                    <p>Now, to test with the spring profiles, let’s create a separate file. So, in my same GitHub repository “ConfigurationData “, I have created a file called "demo-client-dev.yml” (or you can create with .properties). I have specified it with the "country-word" key and a different value to differentiate it from our original file (demo-client.yml).</p>
                    <p><strong>demo-client-dev.yml file</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config14.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Now, we have to stop our client application “config-1-client”. Then only I can modify the original bootstrap yaml file to contain a key of “spring.profiles.active: dev” (This type of key-value pair is for .properties format). Then after modifying the file with new profile configuration, we have to restart your client app.</p>
                    <p><strong>Updated bootstrap.yml file:</strong></p>
                    <div class="single-article-img"><img src="images/spring-cloud-config15.jpg" alt="Anatomy of Spring cloud config work"/></div>
                </li>
                <li>
                    <p>Now, we can verify our same rest end-point by accessing the URL(URL: <a href="javascript:;">http://localhost:8002/country-word</a>) to get the “country-word” new value as “India-Profile” should be displayed in the browser. Also, you can also test the same URL in your postman</p>
                </li>
            </ul>
            <p><strong>Note:</strong> Without updating our bootstrap.yml file with adding the “dev” profile, we can achieve the same result by just running our application with the below command-line arguments</p>
<xmp>
 “-Dspring.profiles.active=dev”
</xmp>
            <p><strong>Summary:</strong> So, you noticed here that the client needed some dependencies for Spring Cloud that <a href="https://www.nexsoftsys.com/hire/java-developers.html" target="_blank">Java programmer provided</a> in our application’s pom file and in our bootstrap file, only we specified the URI of the Spring Cloud server. No java code we had to write for this. So, how easy it is to configure without writing any code for this. This Springe cloud config server is a powerful feature and is more helpful in Microservice oriented applications.</p>
            <h3>Conclusion</h3>
            <p>Here, I have explained to you about the Spring cloud configuration with an example. But more advanced concepts I will be explaining in our other blogs with how Spring Cloud Bus and refresh scope can be used to dynamically propagate changes in the scenarios where we change a property after client applications have already started. It is very natural that behind a load balancer, we can run multiple instances of the config server in multiple zones.</p>
            <h3>References</h3>
            <ul class="listing">
                <li><a href="https://cloud.spring.io/spring-cloud-config/reference/html/" target="_blank">  https://cloud.spring.io/spring-cloud-config/reference/html/</a></li>
                <li><a href="https://spring.io/projects/spring-cloud-config" target="_blank"> https://spring.io/projects/spring-cloud-config</a></li>
            </ul>
            <!-- # -->
        </div>
    

</div>

<div id="nss-note"><img src="../images/nss.jpg" alt="NSS Note" /></div>
<div class="clients-section margin_top30">
        <div class="section-header ourclients">
            <h4>Some of our clients</h4>
        </div>
        <div class="container">
            <div class="clients-block owl-carousel owl-theme">
                <div class="item client1"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client2"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client3"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client4"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client5"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client8"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client9"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client10"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client11"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client15"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client16"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client17"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client12"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client13"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client14"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client6"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client7"><img src="../images/spacer.gif" alt="client" /></div>
            </div>
        </div>
    </div>
    <div class="teams-section">
        <div class="container">
            <div class="teams-title">
                <img data-src="../images/team-title.svg" class="lazyload" alt="team" />
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-main">
        <div class="container">
            <div class="row">
                <div class="footer-box">
                    <h3>Services</h3>
                    <div class="footer-innerbox-block">
                        <div class="footer-innerbox">
                            <ul class="listing">
                                <li><a href="../services/application-development.html">Application Development</a></li>
                                <li><a href="#">Digital Transformation</a></li>
                                <li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
                                <li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
                                <li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
                                <li><a href="../services/big-data-services.html">Big Data</a></li>
                                <li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
                                <li><a href="#">Block Chain</a></li>
                                <li><a href="../services/devops-consulting.html">DevOps</a></li>
                            </ul>
                        </div>
                        <div class="footer-innerbox">
                            <ul class="listing">
                                <li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
                                <li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
                                <li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
                                <li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
                                <li><a href="#">Business Intelligence</a></li>
                                <li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
                                <li><a href="#">Data Integration</a></li>
                                <li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
                                <li><a href="#">Dashboards</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-box">
                    <h3>Technologies</h3>
                    <div class="footer-innerbox w35">
                        <ul class="listing">
                            <li><a href="../technologies/java-application-development.html">Java</a></li>
                            <li><a href="../technologies/python-development-services.html">Python</a></li>
                            <li><a href="../technologies/scala-development.html">Scala</a></li>
                            <li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
                            <li><a href="../technologies/android-app-development.html">Android</a></li>
                            <li><a href="../technologies/ios-application-development.html">iOS</a></li>
                            <li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
                        </ul>
                    </div>
                    <div class="footer-innerbox w65">
                        <ul class="listing">
                            <li class="list-title"><strong>Microsoft</strong></li>
                            <li><a href="../technologies/net-application-development.html">.Net Development</a></li>
                            <li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
                            <li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
                            <li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
                            <li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
                            <li><a href="#">Power BI</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-box footer_sm">
                    <div class="footer-box-business">
                        <h3>Business with us</h3>
                        <ul class="listing">
                            <li><a href="../company.html">Company</a></li>
                            <li><a href="../contact.html">Contact Us</a></li>
                            <li><a href="../careers.html">Careers</a></li>
                            <li><a href="/articles/">Blog</a></li>
                            <li><a href="mailto:info@nexsoftsys.com">Mail Us</a></li>
                        </ul>
                        <div class="footer-socialbox">
                            <h3>Follow NEX</h3>
                            <div class="ft-social">
                                <a href="https://www.facebook.com/NexSoftSys/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                                <a href="https://twitter.com/nexsoftsys" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                                <a href="https://www.linkedin.com/company/nexsoftware/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                                <a href="https://www.youtube.com/c/Nexsoftsys" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            <div class="ast"><p>An Aegis Group Company</p><span></span></div>
            </div>
        </div>
        <div class="copyright_text">
            <div class="copyright_text">
                <div class="container footer-rating">
                    <p>Copyright &copy; <span id="year"></span> NEX Software All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer /- -->

    <script defer src="../js/jquery-1.12.4.min.js"></script>
    <script defer src="../js/lib.js"></script>
    <script defer src="js/functions.js"></script>

    
</body>

</html>