<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Spring Cloud Netflix - Eureka with Demo</title>
    <meta name="description" content="We will use Spring Cloud Netflix Eureka server for developing the Microservice, registry server and Eureka clients which will register themselves and explore other service to communicate using REST API." />
    <meta name="keywords" content="Hire Java Developers, Spring Cloud Netflix" />
    <link rel="canonical" href="https://www.nexsoftsys.com/articles/spring-cloud-netflix-eureka.html" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Spring Cloud Netflix - Eureka with Demo" />
    <meta property="og:description" content="We will use Spring Cloud Netflix Eureka server for developing the Microservice, registry server and Eureka clients which will register themselves and explore other service to communicate using REST API." />
    <meta property="og:url" content="https://www.nexsoftsys.com/articles/spring-cloud-netflix-eureka.html" />
    <meta property="og:site_name" content="NEX Softsys" />
    <meta property="article:publisher" content="https://www.facebook.com/NexSoftSys/" />
    <meta property="article:section" content="Trending" />
    <meta property="og:image" content="https://www.nexsoftsys.com/images/spring-netflix/image007.png" />
    <meta property="og:image:secure_url" content="https://www.nexsoftsys.com/images/spring-netflix/image007.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:description" content="We will use Spring Cloud Netflix Eureka server for developing the Microservice, registry server and Eureka clients which will register themselves and explore other service to communicate using REST API." />
    <meta name="twitter:title" content="Spring Cloud Netflix - Eureka with Demo" />
    <meta name="twitter:site" content="@nexsoftsys" />
    <meta name="twitter:image" content="https://www.nexsoftsys.com/images/spring-netflix/image007.png" />
    <meta name="twitter:creator" content="@nexsoftsys" />

    <link type="image/x-icon" href="../images/favicon.ico" rel="shortcut icon" />
    <link rel="apple-touch-icon" sizes="57x57" href="../images/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="../images/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="../images/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="../images/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="../images/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="../images/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="../images/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="../images/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png" />
    <link rel="manifest" href="../images/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="images/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />

	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-64517863-1', 'auto');
		ga('send', 'pageview');
	</script><!-- Google Analytics /- -->
	
	<!-- Library -->
	<link rel="stylesheet" type="text/css" href="../css/lib.css">
	
	<!-- Custom - Common CSS -->
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link rel="stylesheet" type="text/css" href="../css/navigation.css">
	<link rel="stylesheet" type="text/css" href="../style.css"/>
<noscript>
<div class="ndiv">
<div class="ntext">
<b>JavaScript Required</b>
<p>We're sorry, but we doesn't work properly without JavaScript enabled.</p>
</div>
</div>
</noscript>
</head>

<body>
	<!-- Header Section -->
	<div id="return-to-top"><i class="fa fa-angle-up"></i></div>

    <header class="header_s">
        <!-- ===== Popup Box ===== -->
        <section class="top-box">
            <div class="container">
                <div class="row">
                    <div class="col-12 same-line">
                        <div class="contain-box">
                            <p>Looking for an Expert Development Team? Take two weeks Trial! <a href="javascript:;" id="myBtn">Try Now</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="modal" id="myModal">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close">&times;</span>
                    <strong>Free 2 Week Trial</strong>
                </div>
                <div class="modal-form">
                    <form>
                        <div class="form-group">
                            <label>Your Name *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Name" placeholder="Your Name" />
                        </div>
                        <div class="form-group">
                            <label>Your Email *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Email" placeholder="Your Email" />
                        </div>
                        <div class="form-group">
                            <label>Your Mobile *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Phone" placeholder="Your Mobile" />
                        </div>
                        <div class="form-group">
                            <label>Subject</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Subject" placeholder="Subject" />
                            <input type="hidden" id="txt2Page" value="" />
                        </div>
                        <div class="form-group">
                            <label>Your Message</label>
                            <textarea class="form-control" cols="5" rows="5" placeholder="Your Message" id="txt2Message" name="message"></textarea>
                        </div>
                        <div class="form-group">
                            

<img id="imgCaptchaRFP" alt="captcha" src="" class="captcha-style" />
                            <input class="form-control captcha-txt" type="text" placeholder="Captcha" id="txt2Captcha" name="txtCaptcha" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" id="btn2WeekSubmit" value="Send" name="Submit">Send</button>
                    <p><span id="lbl2WeekInfo" class="lblblack"></span></p>
                </div>
            </div>
        </section>
        <!-- # -->
		<div class="container-fluid">
			<div class="menu-block">
                <div class="mobile-sticky-footer">
                    <a target="_blank" class="skype" href="skype:aegissoftware?call"><i class="fa fa-fw" aria-hidden="true" title="Skype"></i></a>
                    <a target="_blank" class="whatsapp" href="https://api.whatsapp.com/send?phone=919824127020&text=Hi&sbquo;&nbsp;I&nbsp;am&nbsp;Connect&nbsp;through&nbsp;your&nbsp;website"><i class="fa fa-fw" aria-hidden="true" title="Whatsapp"></i></a>
                    <a target="_blank" class="inquiry" href="tel:+16469710799"><i class="fa fa-fw" aria-hidden="true" title="Phone"></i></a>
                    <a target="_blank" class="case-studies" href="mailto:info@nexsoftsys.com"><i class="fa fa-fw" aria-hidden="true" title="Email"></i></a>
                    <a href="../rfp.html" class="client-speaks"><i class="fa fa-fw" aria-hidden="true" title="RFP"></i></a>
                </div>	
				<div class="container">	
					<nav class="menu-navigation">
						<div class="logo-block">
							<a class="navbar-brand" href="/">
								<img src="../images/logo.png" alt="logo"/>
							</a>
						</div>
						<a class="menuswitch" href="#">
							<span class="menuline bar1"></span>
							<span class="menuline bar2"></span>
							<span class="menuline bar3"></span>
						</a>
						<div class="menu-collapse">
							<ul class="navigation-menu">
								<li><a href="/">Home</a></li>
								<li><a href="../company.html">About Us</a></li>
								<li class="dropdown">
									<i class="ddl-switch"></i>
									<a href="#">Services</a>
									<ul class="dropdown-menu">
										<div class="dropdown-menubox">
											<li><a href="../services/application-development.html">Application Development</a></li>
											<li><a href="#">Digital Transformation</a></li>
											<li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
											<li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
											<li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
										</div>
										<div class="dropdown-menubox">
											<li><a href="../services/big-data-services.html">Big Data</a></li>
											<li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
											<li><a href="#">Block Chain</a></li>
											<li><a href="../services/devops-consulting.html">DevOps</a></li>
											<li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
										</div>
										<div class="dropdown-menubox">
											<li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
											<li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
											<li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
											<li><a href="#">Business Intelligence</a></li>
										</div>
										<div class="dropdown-menubox">
											<li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
											<li><a href="#">Data Integration</a></li>
											<li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
											<li><a href="#">Dashboards</a></li>
										</div>
									</ul>
								</li>
								<li class="dropdown">
									<i class="ddl-switch"></i>
									<a href="#">Technologies</a>
									<ul class="dropdown-menu two_col">
										<div class="dropdown-menubox">
											<li><a href="../technologies/java-application-development.html">Java</a></li>
											<li><a href="../technologies/python-development-services.html">Python</a></li>
											<li><a href="../technologies/scala-development.html">Scala</a></li>
											<li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
										</div>
										<div class="dropdown-menubox">
											<li><a href="../technologies/android-app-development.html">Android</a></li>
											<li><a href="../technologies/ios-application-development.html">iOS</a></li>
											<li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
										</div>
										<div class="dropdown-menubox microsoft_nested">
											<li class="full_width"><strong>Microsoft</strong></li>
											<li><a href="../technologies/net-application-development.html">.Net Development</a></li>
											<li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
											<li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
											<li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
											<li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
											<li><a href="#">Power BI</a></li>
										</div>
									</ul>
								</li>
                                <li><a href="/articles/">Blog</a></li>
                                <li><a href="../contact.html" class="menu-box">Contact Us</a></li>
							</ul>
						</div>
					</nav>
				</div>
			</div>
		</div>
	</header><!-- Header Section /- -->
    
    <div class="b-notification-bar">
            <!-- Social Links -->
            <ul class="btnlist">
                <li class="item skype">
                    <a href="skype:aegissoftware?call">
                        <div class="sticky-box">
                            <p><i class="fa fa-skype"></i></p>
                            <p>Skype</p>
                        </div>
                    </a>
                </li>
            </ul>
            <!-- # Social Links -->

            <!-- Inquiry Form -->
            <ul class="btnlist">
                <li class="item inquiry">
                    <div id="inquiry_form" class="btn sticky-box">
                        <p><i class="fa fa-envelope" aria-hidden="true"></i></p>
                        <p>Quick Inquiry</p>
                    </div>
                    <div class="info-box inq">
                        <img src="images/close-icon.png" class="closeInquiry" alt="close" />
                        <strong class="title">Fill the details and We’ll get back to you soon</strong>
                        <form>
                            <div class="inquiry-box">
                                <div class="form-group fullwidth">
                                    <textarea class="form-control" id="txtcomments" placeholder="Tell us your requirements"></textarea>
                                </div>
                                <div class="form-group-block">
                                    <div class="form-group">
                                        <input class="form-control" id="txtphone" placeholder="Phone" type="text" onkeydown="javascript:backspacerDOWN(this, event);" onkeyup="javascript:backspacerUP(this, event);">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control" id="txtemail" placeholder="Email" type="email">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control" id="txtskype" placeholder="Skype" type="text">
                                    </div>
                                    <div class="form-group">
                                        <img id="imgCaptcha" alt="captcha" src="/Captcha.ashx" />
                                        <input class="form-control" type="text" placeholder="Captcha" id="txtCaptcha" name="txtCaptcha" />
                                    </div>
                                    <div class="form-group Clear">
                                        <button type="button" id="btnSubmit" value="Submit" name="Submit" class="btn-submit">Submit</button>
                                    </div>
                                    <div class="form-group Clear">
                                        <span id="lblInfo"> </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </li>
            </ul><!-- Inquiry Form /- -->
            <!--Btns-->
            <ul class="btnlist">
                <li class="item case-studies">
                    <div class="btn sticky-box" onClick="window.location.href='../casestudy/java/java-case-studies.html'">
                        <p><i class="fa fa-check-square-o" aria-hidden="true"></i></p>
                        <p>Case Studies</p>
                    </div>
                </li>
                <li class="item client-speaks">
                    <div class="btn sticky-box" onClick="window.location.href='../testimonials/java-testimonials.html'">
                        <p><i class="fa fa-smile-o" aria-hidden="true"></i></p>
                        <p>Client Speaks</p>
                    </div>
                </li>
            </ul><!--Btns-->
        </div>
        <div class="Inner-Banner">
    	<div class="Page-Size">
            	<h1>Microservices Using Spring Cloud Netflix - Eureka With Demo</h1>
            </div>
        </div><!--Web-Banner-->
    
    <div class="Page-Size">
        <div class="Text Width-100">
			<h3>1. Introduction</h3>
			<p>Microservice architecture is a buzzword now-a days. As opposed to traditional monolithic applications, an application is deployed as a suite of smaller and independent applications each one managing a separate business operation. These mini-applications can be independently developed (even in different languages), scaled up/down and deployed on single server or across different servers.</p>
			<p>In order to accomplish a functionality, it’s often required for these services to communicate with each other. They typically communicate using REST API.In order for service A to access APIs of service B it has to know its host and port. Hardcoding it is not the right way, since this means they are tightly coupled. </p>
			<div class="single-article-img">
				<img src="../images/Webp.net-gifmaker.gif" alt="Webp.net-gifmaker"/>
			</div>
			<p>The solution here is to have an equivalent of  a Telephone Directory for services, where each service registers itself and Our <a href="../hire/java-developers.html"><strong>Java programmers in India</strong></a> can simply fetch the desired  service by its name. </p>
			<p>There are various popular service registries, like Netflix Eureka, CONSOL and Zookeeper. In this article, we’ll focus on Netflix Eureka.</p>
			<div class="youtube-videobox">
				<iframe src="https://www.youtube.com/embed/6wvVANQ6EJ8"></iframe>
			</div>
			<h3>2. Netflix Eureka</h3>
			<p>Netflix Eureka is a popular service registry and discovery service. <span class="d-block">Netflix built it and later open sourced it.</span></p>
			<p>Following are its salient features:</p>
			<ul>
				<li>Github link - <a href="https://github.com/Netflix/eureka" target="_blank">https://github.com/Netflix/eureka</a></li>
				<li>Eureka server is nothing but simply aMicroservice, tasked with maintaining registry of all the Microservice.</li>
				<li>Spring Cloud Config support&rsquo;s seamless integration with Eureka with declarative configuration.</li>
				<li>Each service registers itself with Eureka Server and tells the it where it resides (host, port).</li>
				<li>Service a can look up to Eureka Server and get details of Service B (provided both of them are registered) via simply using its SERVICEID.</li>
			</ul>
			<h3>3. Project</h3>
			<p>In this project, we will be creating 3 Microservice:</p>
			<ul>
				<li>Eureka server - service registry</li>
				<li>User service - a Eureka registered Microservice providing some endpoints</li>
				<li>Info Service - a Eureka registered Microservice, providing its own end-points as well as using Eureka to consume end-points of User service too.</li>
			</ul>			
			<p>These services will be created using Spring-Boot as well as we’ll be using Spring-Cloud configuration.</p>
			<p><b>3.1 Eureka Server:</b></p>
			<p>To implement the Eureka server, all we need to do is:</p>
			<ul>
				<li>Add spring-cloud-starter-eureka-server dependency</li>
				<li>Enable Eureka Server by adding annotation @EnableEurekaServeron our main spring boot application class.</li>
			</ul>
			<p>The project structure is as follows:</p>
			<div class="single-article-img"><img src="../images/spring-netflix/image001.png" alt="Spring"/></div>
			<p><b>3.1.1 Maven Dependencies</b></p>
			<xmp>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.hemant</groupId>
	<artifactId>eureka-server</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<packaging>jar</packaging>

	<name>eureka-server</name>
	<description>Demo project for Spring Boot</description>

	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>1.5.1.RELEASE</version>
		<relativePath />
	</parent>
	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<java.version>1.8</java.version>
	</properties>

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server -->
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-eureka-server</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<dependencyManagement>
		<dependencies>
			<dependency>
				<groupId>org.springframework.cloud</groupId>
				<artifactId>spring-cloud-dependencies</artifactId>
				<version>Camden.SR5</version>
				<type>pom</type>
				<scope>import</scope>
			</dependency>
		</dependencies>
	</dependencyManagement>
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>
</project>
</xmp>
			<p><b>3.1.2 Spring boot application class</b></p>
<xmp>
package com.hemant.eurekaserver;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;

@SpringBootApplication
@EnableEurekaServer
public class EurekaServerApplication {
	public static void main(String[] args) {
		SpringApplication.run(EurekaServerApplication.class, args);
	}
}
</xmp>
			<p><b>3.1.3 application.yaml</b></p>
			<p>In addition to above, we have to specify the following configuration in application.yaml file (we can alternatively use application. Properties file).</p>
<xmp>
# Server port
server:
   port: 8761  
eureka:
   client:
      # Dont register itself with eureka
       registerWithEureka: false
       fetchRegistry: false
</xmp>
			<p><b>Explanation:</b></p>
		<ul>
			<li>Herewe have designated the port - 8761 to run Eureka server.</li>
			<li>The property <strong>eureka.client.registerWithEureka= false</strong>: Eureka Clients register with Eureka Server. The registration happens on the first heart-beat signal. Also clients send periodic       heartbeats to Eureka Server to update the registry. Since this is Eureka Server itself, we don&rsquo;t need it.</li>
			<li>The property <strong>eureka.client.fetchRegistry = false</strong> is used by clients fetches the registry information from the Eureka server. After that, these clients use that information to find       other services. Clients update this information periodically (by default every 30 sec). Since this is Eureka Server itself, we don&rsquo;t it need it.</li>
		</ul>
			<p><b>3.2 User Service</b></p>
			<p>This is a simple spring boot service which acts as a Eureka Client and gets registered with our Eureka Server.</p>
			<p>The project structure is as follows:</p>
			<div class="single-article-img"><img src="../images/spring-netflix/image003.png" alt="spring netflix"/></div>
			<p><b>3.2.1 Maven Dependencies</b></p>
			<xmp>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.hemant</groupId>
	<artifactId>user-service</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<packaging>jar</packaging>

	<name>user-service</name>
	<description>Demo project for Spring Boot</description>

	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>1.5.1.RELEASE</version>
		<relativePath /> <!-- lookup parent from repository -->
	</parent>

	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<java.version>1.8</java.version>
	</properties>

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-eureka</artifactId>
			<version>1.2.6.RELEASE</version>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>
</project>
</xmp>
			<p><b>3.2.2 Sping boot Application class</b></p>
<xmp>
package com.hemant.userservice;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;

@SpringBootApplication
@EnableEurekaClient
public class UserServiceApplication {

	public static void main(String[] args) {
		SpringApplication.run(UserServiceApplication.class, args);
	}
}
</xmp>
			<p>The convenience annotation @EnableEurekaClient makes this application as a Eureka Client which can be registered with our Eureka Server.</p>
			<p><b>3.2.3 REST API</b></p>
			<p>This application also exposes a few REST END points.<br/>The model is a simple User class:</p>
			<xmp>
package com.hemant.userservice.model;

public class User {

	private String id;
	private String name;
	private String email;

	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public String getEmail() {
		return email;
	}

	public void setEmail(String email) {
		this.email = email;
	}

	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((id == null) ? 0 : id.hashCode());
		return result;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (!(obj instanceof User))
			return false;
		User other = (User) obj;
		if (id == null) {
			if (other.id != null)
				return false;
		} else if (!id.equals(other.id))
			return false;
		return true;
	}

	@Override
	public String toString() {
		return "User [id=" + id + ", name=" + name + ", email=" + email + "]";
	}

	public User(String id, String name, String email) {
		super();
		this.id = id;
		this.name = name;
		this.email = email;
	}
}
</xmp>
			<p>The REST Controller exposing the User based endpoints is as follows:</p>
			<xmp>
package com.hemant.userservice.controller;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.UUID;

import javax.annotation.PostConstruct;

import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.hemant.userservice.model.User;

@RestController
public class UserController {

	private Map<String, User> userMap;

	@PostConstruct
	public void initMap() {
		userMap = new HashMap<>();
		for (int i = 1; i <= 5; i++) {
			String uuid = UUID.randomUUID().toString();
			userMap.put(uuid, new User(uuid, "User" + i, "user" + i + "@gmail.com"));
		}
	}
	
	@RequestMapping(value = "", method = RequestMethod.GET)
	public List<User> getAllUsers() {
		return new ArrayList<>(userMap.values());
	}

	@RequestMapping(value = "/{id}", method = RequestMethod.GET)
	public User getUserById(@PathVariable("id") String id) {
		User user = userMap.get(id);
		if (null == user) {
			throw new IllegalArgumentException("User not found for : " + id);
		}
		return user;
	}
}
</xmp>
			<p>Here the mock data is created using @PostConstruct and 2 endpoints are provided</p>
			<ul>
				<li>Get all Users</li>
				<li>Get User by ID</li>
			</ul>
			<p><b>3.2.4 Application properties</b></p>
			<xmp>
server :
  port : 8080
spring :
  application :
     name : user-service
eureka:
 client:
   serviceUrl:
     defaultZone: http://localhost:8761/eureka
</xmp>
			<p><b>Explanation:</b></p>
			<ul>
				<li><strong>Spring.application.name </strong>: This       is mandatory for all the Eureka Clients. This value is used as ServiceId       by Eureka Server. Other services can access this service via using this       ServiceId.</li>
				<li><strong>eureka.client.serviceUrl.defaultZone</strong> : This       is the location of our Eureka server configured above.</li>
				<li><strong>Server.port</strong> - This       web application will run on 8080 port.</li>
			</ul>
			<p>3.3 Info Service</p>
			<p>This is another Eureka Client service similar to the User Service. <br/>However it provides additional endpoints which:</p>
			<ul>
				<li>Get more information of the Eureka.</li>
				<li>Consume the APIs of User service using Eureka.</li>
			</ul>
			<p><b>The project structure is as follows:</b></p>
			<div class="single-article-img"><img src="../images/spring-netflix/image005.png" alt="spring netflix"/></div>
			<p><b>3.3.1 Maven dependencies</b></p>
			<xmp>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.hemant</groupId>
	<artifactId>info-service</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<packaging>jar</packaging>

	<name>info-service</name>
	<description>Demo project for Spring Boot</description>

	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>1.5.1.RELEASE</version>
		<relativePath /> <!-- lookup parent from repository -->
	</parent>

	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<java.version>1.8</java.version>
		<spring.cloud.version>1.2.6.RELEASE</spring.cloud.version>
	</properties>

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-eureka</artifactId>
			<version>${spring.cloud.version}</version>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>
</project>
</xmp>
			<p><b>3.3.2 Spring boot application class</b></p>
<xmp>
package com.hemant.info;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;

@SpringBootApplication
@EnableEurekaClient
public class InfoServiceApp {

	public static void main(String[] args) {
		SpringApplication.run(InfoServiceApp.class, args);
	}
}
</xmp>
			<p><b>3.3.3 Controllers</b></p>
			<p>Here 2 controllers are provides</p>
			<p>1.	EurekaClientController : This provides information about the Eureka</p>
			<xmp>
package com.hemant.info.controller;

import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.cloud.client.ServiceInstance;
import org.springframework.cloud.client.discovery.DiscoveryClient;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/eureka")
public class EurekaClientController {

	@Autowired
	private DiscoveryClient discoveryClient;

	@RequestMapping(value = "", method = RequestMethod.GET)
	public List<String> getAllEurekaClients() {
		return discoveryClient.getServices();
	}

	@RequestMapping(value = "/{serviceName}", method = RequestMethod.GET)
	public Map<String, Object> getEurekaClientURLByName(@PathVariable String serviceName) {
		List<ServiceInstance> serviceInstances = discoveryClient.getInstances(serviceName);
		
		if (serviceInstances.isEmpty()) {
			throw new IllegalArgumentException("No instance found with serviceId :" + serviceName);
		}
		
		ServiceInstance instance = serviceInstances.get(0);
		
		Map<String, Object> infoMap = new LinkedHashMap<>();
		infoMap.put("host", instance.getHost());
		infoMap.put("port", instance.getPort());
		infoMap.put("uri", instance.getUri());
		infoMap.put("serviceId", instance.getServiceId());
		infoMap.put("secured", instance.isSecure());
		
		return infoMap;
	}
}
</xmp>
			<p>2.  UserClientController : This consumes the User service’s endpoints.</p>
			<xmp>
package com.hemant.info.controller;

import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.cloud.client.ServiceInstance;
import org.springframework.cloud.client.discovery.DiscoveryClient;
import org.springframework.http.HttpMethod;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

@RestController
public class UserClientController {

	@Autowired
	private DiscoveryClient discoveryClient;

	private RestTemplate restTemplate = new RestTemplate();

	private String userServiceName = "user-service";

	@RequestMapping(value = "/user/{id}", method = RequestMethod.GET)
	public Map<String, String> getUserById(@PathVariable String id) {
		List<ServiceInstance> serviceInstances = discoveryClient.getInstances(userServiceName);

		if (serviceInstances.isEmpty()) {
			throw new IllegalArgumentException("No instance found with serviceId :" + userServiceName);
		}
		ServiceInstance userServiceInstance = serviceInstances.get(0);
		String url = userServiceInstance.getUri().toString() + "/" + id;
		ResponseEntity<String> authResponse = restTemplate.exchange(url, HttpMethod.GET, null, String.class);
		
		Map<String, String> map = new LinkedHashMap<>();
		map.put("url", url);
		map.put("user-service-response", authResponse.getBody());
		
		return map;
	}
}
</xmp>
			<p><b>The userService’sServiceId (spring.application.name in itsapplication.properties) i.e. “user-service” is used to query the DiscoverClient instance so as to fetch the instance of UserService. The only hard-coding here is serviceId. The other details like URL, PORT etc. is maintained by Eureka.</b></p>
			<p><b>3.3.4 Application properties</b></p>
			<xmp>
server.port : 8081
spring.application.name : info-service
eureka.client.serviceUrl.defaultZone: http://localhost:8761/eureka
</xmp>
			<p><b>Explanation: </b></p>
			<ul>
				<li><strong>Spring.application.name</strong> : This is mandatory for all the Eureka Clients. This value is used as ServiceId by Eureka Server. Other services can access this service via using this ServiceId.</li>
				<li><strong>eureka.client.serviceUrl.defaultZone</strong> : This is the location of our Eureka server configured above.</li>
				<li><strong>Server.port</strong> - This web application will run on 8081 port. </li>
			</ul>
			<h3>4. Starting the microservices :</h3>
			<p>4.1 Starting Eureka Server</p>
			<p>1.	Start the Eureka Server application, go to the project’s root directory and execute</p>
			<xmp>
>>>mvn clean install
			</xmp>		
			<p>    2. If the build is success, we can launch the application by:</p>
			<xmp>
2018-07-26 23:47:47.792  INFO 5715 --- [           main] 
c.n.e.EurekaDiscoveryClientConfiguration : Updating port to 8761
2018-07-26 23:47:47.801  INFO 5715 --- [           main]
c.h.e.EurekaServerApplication : Started
EurekaServerApplication in 13.399 seconds (JVM running for 14.281)
</xmp>
<p>You  can access, the Eureka Server console at <span class="locallink">http://localhost:8761/</span></p>
			<div class="single-article-img"><img src="../images/spring-netflix/image007.png" alt="Spring netflix"/></div>
			<p>5. Presently no client services are started.</p>
			<p><b>4.2 Starting User Service :</b></p>
			<p>The steps for starting this Eureka Client service are:</p>
			<p>1.	Go to the project’s root directory and execute</p>
			<xmp>
>>>mvn clean install
			</xmp>			
			<p>2. If the build is success, we can launch the application by:</p>
			<xmp>
>>>java -jar target/user-service-0.0.1-SNAPSHOT.jar
			</xmp>				
			<p>3. The following logs indicate that application is up and running and also registered with Eureka server.</p>
			<xmp>
2018-07-26 23:53:19.068  INFO 5752 --- [           main]
c.n.e.EurekaDiscoveryClientConfiguration : Updating port to 8080
2018-07-26 23:53:19.080  INFO 5752 --- [           main]
c.h.userservice.UserServiceApplication   : Started
UserServiceApplication in 10.22 seconds (JVM running for 11.243)
2018-07-26 23:53:19.173  INFO 5752 --- [nfoReplicator-0]
com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-
SERVICE/192.168.1.117:user-service:8080 - registration status: 204
			</xmp>				
			<p>4. At the same point, in Eureka Server logs, you can see that User service has registered itself.</p>
			<xmp>
2018-07-26 23:53:19.165  INFO 5715 --- [nio-8761-exec-4]
c.n.e.registry.AbstractInstanceRegistry  : Registered instance USER-
SERVICE/192.168.1.117:user-service:8080 with status UP (replication=false)
			</xmp>	
			<p>5. Upon refreshing the Eureka server console (http://localhost:8761/), you can see the UserService is now available.</p>
			<div class="single-article-img"><img src="../images/spring-netflix/image009.png" alt="image009"/></div>
			<p><strong>4.3 Starting InfoService :</strong></p>
			<p>The steps are similar to that of starting of UserService.<br>After starting Info Service, it should be registered with Eureka and Eureka console on refresh should reflect the same</p>
			<img src="../images/spring-netflix/image011.png" alt="image011"/>
			<h3>5. Demonstration</h3>
			<p>1.	Access the User Service endpoints individually</p>
			<xmp>
GET http://localhost:8080/
Response: 
[
  {
    "id": "30f9f24e-538b-458c-aa9b-1e06749ced52",
    "name": "User1",
    "email": "user1@gmail.com"
  },
  {
    "id": "b514af00-2d32-4fe6-b9c1-43aeb83d58d4",
    "name": "User2",
    "email": "user2@gmail.com"
  },
  {
    "id": "2ab01121-0b71-4581-a127-ad46c20f67a3",
    "name": "User4",
    "email": "user4@gmail.com"
  },
  {
    "id": "d994c3ce-153f-4eaf-9aca-f2ae9a3735d3",
    "name": "User5",
    "email": "user5@gmail.com"
  },
  {
    "id": "6dc503a1-2f59-4712-aac2-e2cc5496f303",
    "name": "User3",
    "email": "user3@gmail.com"
  }
]
---------------------------------------------------------
GET http://localhost:8080/6dc503a1-2f59-4712-aac2-e2cc5496f303

Response:
{
  "id": "6dc503a1-2f59-4712-aac2-e2cc5496f303",
  "name": "User3",
  "email": "user3@gmail.com"
}
</xmp>
			<p>2. Access the info-service endpoint to give information on the client services currently registered on Eureka Server.</p>
			<xmp>
GET http://localhost:8081/eureka

Response:
[
  "user-service",
  "info-service"
]
</xmp>
			<p>This gives the list of serviceIds (spring application names) which are registered with Eureka.</p>
			<p>3. Access the API which provides more information on particular service, whose names is passed as path-variable	</p>
			<xmp>
GET http://localhost:8081/eureka/user-service

Response
{
  "host": "192.168.1.117",
  "port": 8080,
  "uri": "http://192.168.1.117:8080",
  "serviceId": "USER-SERVICE",
  "secured": false
}

GET http://localhost:8081/eureka/demo-service

Response
{
  "timestamp": 1532630674705,
  "status": 500,
  "error": "Internal Server Error",
  "exception": "java.lang.IllegalArgumentException",
  "message": "No instance found with serviceId :demo-service",
  "path": "/eureka/demo-service"
}
Here since no service by serviceId "demo-service" is registered on Eureka, it's instance couldn't be found.
</xmp>

			<p>4. Access the UserClientController’s API. This will inturn fetch us the instance of UserService (running on 8080) from Eureka and call its API.</p>
			<xmp>
GET http://localhost:8081/user/6dc503a1-2f59-4712-aac2-e2cc5496f303

Response

{
  "url": "http://192.168.1.117:8080/6dc503a1-2f59-4712-aac2-e2cc5496f303",
  "user-service-response": "{\"id\":\"6dc503a1-2f59-4712-aac2-e2cc5496f303\",\"name\":\"User3\",\"email\":\"user3@gmail.com\"}"
}
</xmp>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Introduction to Spring Cloud Netflix – Eureka: <a href="https://t.co/rDoRLvfHxw">https://t.co/rDoRLvfHxw</a> (from the archives) <a href="https://t.co/A9ofX3UNEa">pic.twitter.com/A9ofX3UNEa</a></p>&mdash; Eugen (Baeldung) (@baeldung) <a href="https://twitter.com/baeldung/status/1018812569283424256?ref_src=twsrc%5Etfw">July 16, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

			<h3>Conclusion:</h3>
			<p>Thus we have implemented the Service registry and Discovery using Spring Cloud Netflix.</p>
			<ul class="listing"> 
				<li>Implementation of Eureka Server</li>
				<li>Registered the client services with Eureka</li>
				<li>Also used Eureka to access other services by getting its instance details by just using its service ID.</li>
			</ul>
			
	</div>
  </div><!--Page-Size-->


<div id="nss-note"><img src="../images/nss.jpg" alt="NSS Note"/></div>
  
     
	<div class="clients-section margin_top30">
		<div class="section-header ourclients">
			<h4>Some of our clients</h4>
		</div>	
		<div class="container">
			<div class="clients-block owl-carousel owl-theme">
				<div class="item client1"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client2"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client3"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client4"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client5"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client8"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client9"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client10"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client11"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client15"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client16"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client17"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client12"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client13"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client14"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client6"><img src="../images/spacer.gif" alt="client" /></div>
				<div class="item client7"><img src="../images/spacer.gif" alt="client" /></div>
			</div>
		</div>	
	</div>
	<div class="teams-section">
		<div class="container">
			<div class="teams-title">
				<img data-src="../images/team-title.svg" class="lazyload" alt="team" />
			</div>
		</div>
	</div>
    
	<!-- Footer -->
	<footer class="footer-main">
		<div class="container">
			<div class="row">
				<div class="footer-box">
					<h3>Services</h3>
					<div class="footer-innerbox-block">
						<div class="footer-innerbox">
							<ul class="listing">
								<li><a href="../services/application-development.html">Application Development</a></li>
								<li><a href="#">Digital Transformation</a></li>
								<li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
								<li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
								<li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
								<li><a href="../services/big-data-services.html">Big Data</a></li>
								<li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
								<li><a href="#">Block Chain</a></li>
								<li><a href="../services/devops-consulting.html">DevOps</a></li>
							</ul>
						</div>
						<div class="footer-innerbox">
							<ul class="listing">
								<li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
								<li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
								<li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
								<li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
								<li><a href="#">Business Intelligence</a></li>
								<li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
								<li><a href="#">Data Integration</a></li>
								<li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
								<li><a href="#">Dashboards</a></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="footer-box">
					<h3>Technologies</h3>
					<div class="footer-innerbox w35">
						<ul class="listing">
							<li><a href="../technologies/java-application-development.html">Java</a></li>
							<li><a href="../technologies/python-development-services.html">Python</a></li>
							<li><a href="../technologies/scala-development.html">Scala</a></li>
							<li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
							<li><a href="../technologies/android-app-development.html">Android</a></li>
							<li><a href="../technologies/ios-application-development.html">iOS</a></li>
							<li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
						</ul>
					</div>
					<div class="footer-innerbox w65">
						<ul class="listing">
							<li class="list-title"><strong>Microsoft</strong></li>
							<li><a href="../technologies/net-application-development.html">.Net Development</a></li>
							<li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
							<li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
							<li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
							<li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
							<li><a href="#">Power BI</a></li>
						</ul>
					</div>
				</div>
				<div class="footer-box footer_sm">
					<div class="footer-box-business">
						<h3>Business with us</h3>
                        <ul class="listing">
                            <li><a href="../company.html">Company</a></li>
                            <li><a href="../contact.html">Contact Us</a></li>
                            <li><a href="../careers.html">Careers</a></li>
                            <li><a href="/articles/">Blog</a></li>
                            <li><a href="mailto:info@nexsoftsys.com">Mail Us</a></li>
                        </ul>
						<div class="footer-socialbox">
							<h3>Follow NEX</h3>
							<div class="ft-social">
								<a href="https://www.facebook.com/NexSoftSys/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
								<a href="https://twitter.com/nexsoftsys" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
								<a href="https://www.linkedin.com/company/nexsoftware/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                                <a href="https://www.youtube.com/c/Nexsoftsys" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
							</div>
						</div>
					</div>
				</div>
			<div class="ast"><p>An Aegis Group Company</p><span></span></div>
            </div>
        </div>
        <div class="copyright_text">
            <div class="copyright_text">
                <div class="container footer-rating">
                    <p>Copyright &copy; <span id="year"></span> NEX Software All rights reserved</p>
                </div>
            </div>
        </div>
	</footer><!-- Footer /- -->
	
<script defer src="../js/jquery-1.12.4.min.js"></script>
<script defer src="../js/lib.js"></script>
<script defer src="js/functions.js"></script>


     <script src="/js/jquery-1.12.4.min.js"></script>
  
</body>
</html>