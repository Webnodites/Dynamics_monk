<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Integrate Application Insights with NLog in ASP.NET Core 3</title>
    <meta name="description" content="Application Insights helps to monitor the live Web App. Integrate Application Insights Services with NLog in Asp.Net Core 3 to get the events and logs occurs when running the application." />
    <meta name="keywords" content="" />
    <link rel="canonical" href="https://www.nexsoftsys.com/articles/integrating-apps-insights-with-nlog-aspnet-core.html" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Integrate Application Insights with NLog in ASP.NET Core 3" />
    <meta property="og:description" content="Application Insights helps to monitor the live Web App. Integrate Application Insights Services with NLog in Asp.Net Core 3 to get the events and logs occurs when running the application." />
    <meta property="og:url" content="https://www.nexsoftsys.com/articles/integrating-apps-insights-with-nlog-aspnet-core.html" />
    <meta property="og:site_name" content="NEX Softsys" />
    <meta property="article:publisher" content="https://www.facebook.com/NexSoftSys/" />
    <meta property="article:section" content="Trending" />
    <meta property="og:image" content="https://www.nexsoftsys.com/articles/images/integrating-apps-insights-with-nlog-aspnet-core/image001.jpg" />
    <meta property="og:image:secure_url" content="https://www.nexsoftsys.com/articles/images/integrating-apps-insights-with-nlog-aspnet-core/image001.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:description" content="Application Insights helps to monitor the live Web App. Integrate Application Insights Services with NLog in Asp.Net Core 3 to get the events and logs occurs when running the application." />
    <meta name="twitter:title" content="Integrate Application Insights with NLog in ASP.NET Core 3" />
    <meta name="twitter:site" content="@nexsoftsys" />
    <meta name="twitter:image" content="https://www.nexsoftsys.com/articles/images/integrating-apps-insights-with-nlog-aspnet-core/image001.jpg" />
    <meta name="twitter:creator" content="@nexsoftsys" />

    <link type="image/x-icon" href="../images/favicon.ico" rel="shortcut icon" />
    <link rel="apple-touch-icon" sizes="57x57" href="../images/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="../images/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="../images/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="../images/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="../images/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="../images/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="../images/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="../images/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png" />
    <link rel="manifest" href="../images/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="images/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />


    <!-- Google Analytics -->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-64517863-1', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- Google Analytics /- -->

    <!-- Library -->
    <link rel="stylesheet" type="text/css" href="../css/lib.css">

    <!-- Custom - Common CSS -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/navigation.css">
    <link rel="stylesheet" type="text/css" href="../style.css" />

    <noscript>
        <div class="ndiv">
            <div class="ntext">
                <b>JavaScript Required</b>
                <p>We're sorry, but we doesn't work properly without JavaScript enabled.</p>
            </div>
        </div>
    </noscript>
</head>

<body>
    <!-- Header Section -->
    <div id="return-to-top"><i class="fa fa-angle-up"></i></div>

    <header class="header_s">
        <!-- ===== Popup Box ===== -->
        <section class="top-box">
            <div class="container">
                <div class="row">
                    <div class="col-12 same-line">
                        <div class="contain-box">
                            <p>Looking for an Expert Development Team? Take two weeks Trial! <a href="javascript:;" id="myBtn">Try Now</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="modal" id="myModal">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close">&times;</span>
                    <strong>Free 2 Week Trial</strong>
                </div>
                <div class="modal-form">
                    <form>
                        <div class="form-group">
                            <label>Your Name *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Name" placeholder="Your Name" />
                        </div>
                        <div class="form-group">
                            <label>Your Email *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Email" placeholder="Your Email" />
                        </div>
                        <div class="form-group">
                            <label>Your Mobile *</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Phone" placeholder="Your Mobile" />
                        </div>
                        <div class="form-group">
                            <label>Subject</label>
                            <input type="text" name="question-title" class="form-control" id="txt2Subject" placeholder="Subject" />
                            <input type="hidden" id="txt2Page" value="" />
                        </div>
                        <div class="form-group">
                            <label>Your Message</label>
                            <textarea class="form-control" cols="5" rows="5" placeholder="Your Message" id="txt2Message" name="message"></textarea>
                        </div>
                        <div class="form-group">
                            

<img id="imgCaptchaRFP" alt="captcha" src="" class="captcha-style" />
                            <input class="form-control captcha-txt" type="text" placeholder="Captcha" id="txt2Captcha" name="txtCaptcha" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" id="btn2WeekSubmit" value="Send" name="Submit">Send</button>
                    <p><span id="lbl2WeekInfo" class="lblblack"></span></p>
                </div>
            </div>
        </section>
        <!-- # -->
        <div class="container-fluid">
            <div class="menu-block">
                <div class="mobile-sticky-footer">
                    <a target="_blank" class="skype" href="skype:aegissoftware?call"><i class="fa fa-fw" aria-hidden="true" title="Skype"></i></a>
                    <a target="_blank" class="whatsapp" href="https://api.whatsapp.com/send?phone=919824127020&text=Hi&sbquo;&nbsp;I&nbsp;am&nbsp;Connect&nbsp;through&nbsp;your&nbsp;website"><i class="fa fa-fw" aria-hidden="true" title="Whatsapp"></i></a>
                    <a target="_blank" class="inquiry" href="tel:+16469710799"><i class="fa fa-fw" aria-hidden="true" title="Phone"></i></a>
                    <a target="_blank" class="case-studies" href="mailto:info@nexsoftsys.com"><i class="fa fa-fw" aria-hidden="true" title="Email"></i></a>
                    <a href="../rfp.html" class="client-speaks"><i class="fa fa-fw" aria-hidden="true" title="RFP"></i></a>
                </div>
                <div class="container">
                    <nav class="menu-navigation">
                        <div class="logo-block">
                            <a class="navbar-brand" href="/">
                                <img src="../images/logo.png" alt="logo" />
                            </a>
                        </div>
                        <a class="menuswitch" href="#">
                            <span class="menuline bar1"></span>
                            <span class="menuline bar2"></span>
                            <span class="menuline bar3"></span>
                        </a>
                        <div class="menu-collapse">
                            <ul class="navigation-menu">
                                <li><a href="/">Home</a></li>
                                <li><a href="../company.html">About Us</a></li>
                                <li class="dropdown">
                                    <i class="ddl-switch"></i>
                                    <a href="#">Services</a>
                                    <ul class="dropdown-menu">
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/application-development.html">Application Development</a></li>
                                            <li><a href="#">Digital Transformation</a></li>
                                            <li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
                                            <li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
                                            <li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/big-data-services.html">Big Data</a></li>
                                            <li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
                                            <li><a href="#">Block Chain</a></li>
                                            <li><a href="../services/devops-consulting.html">DevOps</a></li>
                                            <li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
                                            <li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
                                            <li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
                                            <li><a href="#">Business Intelligence</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
                                            <li><a href="#">Data Integration</a></li>
                                            <li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
                                            <li><a href="#">Dashboards</a></li>
                                        </div>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <i class="ddl-switch"></i>
                                    <a href="#">Technologies</a>
                                    <ul class="dropdown-menu two_col">
                                        <div class="dropdown-menubox">
                                            <li><a href="../technologies/java-application-development.html">Java</a></li>
                                            <li><a href="../technologies/python-development-services.html">Python</a></li>
                                            <li><a href="../technologies/scala-development.html">Scala</a></li>
                                            <li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
                                        </div>
                                        <div class="dropdown-menubox">
                                            <li><a href="../technologies/android-app-development.html">Android</a></li>
                                            <li><a href="../technologies/ios-application-development.html">iOS</a></li>
                                            <li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
                                        </div>
                                        <div class="dropdown-menubox microsoft_nested">
                                            <li class="full_width"><strong>Microsoft</strong></li>
                                            <li><a href="../technologies/net-application-development.html">.Net Development</a></li>
                                            <li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
                                            <li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
                                            <li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
                                            <li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
                                            <li><a href="#">Power BI</a></li>
                                        </div>
                                    </ul>
                                </li>
                                <li><a href="/articles/">Blog</a></li>
                                <li><a href="../contact.html" class="menu-box">Contact Us</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section /- -->

    <div class="b-notification-bar">
        <!-- Social Links -->
        <ul class="btnlist">
            <li class="item skype">
                <a href="skype:aegissoftware?call">
                    <div class="sticky-box">
                        <p><i class="fa fa-skype"></i></p>
                        <p>Skype</p>
                    </div>
                </a>
            </li>
        </ul>
        <!-- # Social Links -->

        <!-- Inquiry Form -->
        <ul class="btnlist">
            <li class="item inquiry">
                <div id="inquiry_form" class="btn sticky-box">
                    <p><i class="fa fa-envelope" aria-hidden="true"></i></p>
                    <p>Quick Inquiry</p>
                </div>
                <div class="info-box inq">
                    <img src="images/close-icon.png" class="closeInquiry" alt="close" />
                    <strong class="title">Fill the details and We’ll get back to you soon</strong>
                    <form>
                        <div class="inquiry-box">
                            <div class="form-group fullwidth">
                                <textarea class="form-control" id="txtcomments" placeholder="Tell us your requirements"></textarea>
                            </div>
                            <div class="form-group-block">
                                <div class="form-group">
                                    <input class="form-control" id="txtphone" placeholder="Phone" type="text" onkeydown="javascript:backspacerDOWN(this, event);" onkeyup="javascript:backspacerUP(this, event);">
                                </div>
                                <div class="form-group">
                                    <input class="form-control" id="txtemail" placeholder="Email" type="email">
                                </div>
                                <div class="form-group">
                                    <input class="form-control" id="txtskype" placeholder="Skype" type="text">
                                </div>
                                <div class="form-group">
                                    <img id="imgCaptcha" alt="captcha" src="/Captcha.ashx" />
                                    <input class="form-control" type="text" placeholder="Captcha" id="txtCaptcha" name="txtCaptcha" />
                                </div>
                                <div class="form-group Clear">
                                    <button type="button" id="btnSubmit" value="Submit" name="Submit" class="btn-submit">Submit</button>
                                </div>
                                <div class="form-group Clear">
                                    <span id="lblInfo"> </span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </li>
        </ul>
        <!-- Inquiry Form /- -->
        <!--Btns-->
        <ul class="btnlist">
            <li class="item case-studies">
                <div class="btn sticky-box" onClick="window.location.href='../casestudy/java/java-case-studies.html'">
                    <p><i class="fa fa-check-square-o" aria-hidden="true"></i></p>
                    <p>Case Studies</p>
                </div>
            </li>
            <li class="item client-speaks">
                <div class="btn sticky-box" onClick="window.location.href='../testimonials/java-testimonials.html'">
                    <p><i class="fa fa-smile-o" aria-hidden="true"></i></p>
                    <p>Client Speaks</p>
                </div>
            </li>
        </ul>
        <!--Btns-->
    </div>
    <div class="Inner-Banner">
        <div class="Page-Size">
            <h1>Integrating Application Insights with NLog in ASP.NET Core 3 Web App</h1>
        </div>
    </div>
    </div>
    <!--Web-Banner-->
    <div class="Page-Size">
        <div class="Text Width-100 margh2">
            <p>What is Application Insight: It is a monitoring service provided by Microsoft Azure. It helps to monitor application performance, errors, logs, etc. You can use it to monitor your live web application. It <a href="https://www.nexsoftsys.com/services/big-data-services.html" target="_blank">provides powerful data analytics</a> tools that helps in diagnosis of application issues as well as server issues on which those apps are deployed.</p>
            <h2>Features of application insights:</h2>
            <ul class="listing">
                <li>Request and response capture</li>
                <li>Dependency capture</li>
                <li>Exception logging</li>
                <li>Page views</li>
                <li>Loading performance and diagnostics</li>
                <li>User sessions</li>
                <li>Custom events and metrics</li>
                <li>Many more…</li>
            </ul>
            <p>You need a subscription to Azure portal along with some azure credits. You can register on <a href="https://portal.azure.com/" target="_blank">https://portal.azure.com</a> and get a 30 days free trial or you can activate a Microsoft developer license which gives you access to this portal and azure services.</p>
            <p>The application insights provide a lot of integration with almost all technologies out there in market whether its ASP.NET, Angular, NodeJS, etc. Now-a-days, it is the most extensively used services by almost all big players in the market.</p>
            <p><strong>Agenda:</strong> In this example,<a href="https://www.nexsoftsys.com/technologies/net-application-development.html" target="_blank"> Asp.net application Development company</a> will create an asp.net core 3 application and integrate application insights services to capture logs and events that happen when we run the application. We will also learn to create application insights resource in azure portal and use the same in the application. We will be using an additional library which provides us the flexibility to capture logs in better ways. The library is NLog.</p>
            <h2>Pre-requisite:</h2>
            <ul class="listing">
                <li>Visual Studio 2019</li>
                <li>Subscription to Azure portal with Azure credits</li>
            </ul>
            <h2>Creating an Application insight resource in Azure portal</h2>
            <ul class="listing">
                <li>
                    <p><strong>Step 1:</strong> Create an account on Azure portal (<a href="https://portal.azure.com" target="_blank">https://portal.azure.com</a>) and login.</p>
                </li>
                <li>
                    <p><strong>Step 2:</strong> Create a resource group under which we will create application insight resource.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image001.jpg" alt="image001"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image002.jpg" alt="image002"/></div>
                </li>
                <li>
                    <p><strong>Step 3:</strong> Select your subscription and enter a valid resource group name. It can be anything and a green tick in front of it shows its availability.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image003.jpg" alt="image003"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image004.jpg" alt="image004"/></div>
                </li>
                <li>
                    <p><strong>Step 3:</strong> Once the resource group is created, we have to create an application insight resource under the resource group.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image005.jpg" alt="image005"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image006.jpg" alt="image006"/></div>
                </li>
                <li>
                    <p>As shown in screenshot below, click on add button and search for “DevOps”. Under this category, you will find “Application Insights”. Click on it.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image007.jpg" alt="image007"/></div>
                </li>
                <li>
                    <p><strong>Step 5:</strong> Click on “Create” button and it will display the options to enter the name of AppInsights resource. A green tick in front of it shows that the name of such resource is valid.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image008.jpg" alt="image008"/></div>
                </li>
                <li>
                    <p><strong>Step 6:</strong> Finally, create the resource and Azure will start deploying the resource under the resource group.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image009.jpg" alt="image009"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image010.jpg" alt="image010"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image011.jpg" alt="image011"/></div>
                </li>
                <li>
                    <p>For all the integrations to any type of application, we just need an “Instrumentation Key” that uniquely belongs to an Application insight resource.</p>
                     <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image012.jpg" alt="image012"/></div>
                </li>
                <li>
                    <p>Now, we are done with all the setup in Azure portal. Let’s to application integration.</p>
                </li>
            </ul>
            <p><strong>Creating an ASP.NET Core 3 App and configuring application insights</strong></p>
            <ul class="listing">
                <li>
                    <p><strong>Step 1:</strong> Start Visual Studio 2019 and Create a new project.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image013.jpg" alt="image013"/></div>
                </li>
                <li>
                    <p><strong>Step 2:</strong> Select ASP.NET Core Web Application from Project templates.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image014.jpg" alt="image014"/></div>
                </li>
                <li>
                    <p><strong>Step 3:</strong> Name the project as per your need and click on Create button.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image015.jpg" alt="image015"/></div>
                </li>
                <li>
                    <p><strong>Step 4:</strong> Select .NET Core and Version as 3.0 from the selection boxes and select Web Application from the templates.</p>
                    <p>We don’t need authentication, so untick that option along with Https option. Finally to create project, click on create button.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image016.jpg" alt="image016"/></div>
                </li>
                <li>
                    <p><strong>Step 5:</strong> Once the project is created successfully, right click on project name and go to Add -> New Item -> Application Insights Telemetry.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image017.jpg" alt="image017"/></div>
                </li>
                <li>
                    <p><strong>Step 6:</strong> Click on Connected Services option and you will find application insights as one of the option in the window.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image018.jpg" alt="image018"/></div>
                </li>
                <li>
                    <p><strong>Step 7:</strong> Once you click on Get Started button, it will start adding nuget packages that corresponds to application insight to the project.</p>
                </li>
                <li>
                    <p><strong>Step 8:</strong> Login to Microsoft account using the same credentials with which you created your Azure account. Once you login, it will automatically show you the application insights resource that we created in the azure portal. Select the same resource and click on Register.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image019.jpg" alt="image019"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image020.jpg" alt="image020"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image021.jpg" alt="image021"/></div>
                    <p>Once you follow the above steps, we are now good with integration of application insights in asp.net core app. Now, let’s look at the major places where dependencies are registered in the app.</p>
                    <p>Since the start points of the application is Startup.cs file, so we will see that Azure application insight service is injected in Configure Services method.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image022.jpg" alt="image022"/></div>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image023.jpg" alt="image023"/></div>
                    <p>The instrumentation key is referenced in appsettings.json file where all the configuration of the application is placed. This is the most important thing in the whole setup. If you want to use any other application insight resource in future, you just have to replace this instrumentation key with new one and nothing else is required.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image024.jpg" alt="image024"/></div>
                </li>
            </ul>
            <p><strong>Configuring NLog to define target to send telemetry to application insights</strong></p>
             <ul class="listing">
                <li>
                    <p><strong>Step 1:</strong> Right click on project name in solution explorer and click Manage nuget packages.</p>
                    <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image025.jpg" alt="image025"/></div>
                </li>
                <li>
                    <p><strong>Step 2:</strong> We need to install 3 packages to configure NLog.</p>
                    <ol>
                        <li>
                            <p><strong>1. NLog.Web.AspNetCore</strong> – this package will install the base dll’s for NLog support for .net core projects.</p>
                            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image025.jpg" alt="image025"/></div>
                         </li>
                        <li>
                            <p><strong>2. Microsoft.ApplicationInsights.NLogTarget</strong> – this package will install a dll that allows NLog to send telemetry to Azure portal.</p>
                            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image026.jpg" alt="image026"/></div>
                         </li>
                        <li>
                            <p><strong>3. NLog.config </strong> – this package will add a configuration file to the project where we can define targets. This file will be read by NLog to capture logs.</p>
                            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image027.jpg" alt="image027"/></div>
                         </li>
                    </ol>
                    <li>
                        <p><strong>Step 3:</strong> After installing all the required packages, we have to configure NLog in the project pipeline so that .net core knows about NLog.</p>
                        <p><strong>Replace the code in NLog.config file with the below.</strong></p>
                        <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image028.jpg" alt="image028"/></div>
                    </li>
                </li>
            </ul>
<xmp>
<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      autoReload="true"
      throwExceptions="false"
      internalLogLevel="Off" internalLogFile="c:\temp\nlog-internal.log">

  <extensions>
    <add assembly="Microsoft.ApplicationInsights.NLogTarget" />
  </extensions>

  <targets>
    <target xsi:type="ApplicationInsightsTarget" name="aiTarget">
      <instrumentationKey>Your application Insights Instrumentation Key</instrumentationKey>
      <contextproperty name="threadid" layout="${threadid}" />
    </target>
  </targets>

  <rules>
    <logger name="*" minlevel="Trace" writeTo="aiTarget" />
  </rules>
</nlog>
</xmp>
            <p><strong>Secondly, configure NLog in Program.cs file to capture</strong> logs at the application start.</p>
            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image029.jpg" alt="image029"/></div>
            <p>Now, we are done with all configurations and setup. Let’s run the application in debug mode and check if logs are going into Azure portal.</p>
            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image030.jpg" alt="image030"/></div>
            <p>Try to navigate through the links in the application so that more logs can be generated and then login to Azure portal to check the logs.</p>
            <div class="single-article-img"><img src="images/integrating-apps-insights-with-nlog-aspnet-core/image031.jpg" alt="image031"/></div>
            <p>The beauty of NLog is that it allows multiple targets at same time. That means that in this example, we only configured one target, but if we want to send telemetry to other targets like database, file, or any other service, we just need to modify NLog.config file with new targets and corresponding rules and we don’t have to make any code changes.</p>
        </div>
        <div class="Clear">&nbsp;</div>
    

</div>

<div id="nss-note"><img src="../images/nss.jpg" alt="NSS Note" /></div>
<div class="clients-section margin_top30">
        <div class="section-header ourclients">
            <h4>Some of our clients</h4>
        </div>
        <div class="container">
            <div class="clients-block owl-carousel owl-theme">
                <div class="item client1"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client2"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client3"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client4"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client5"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client8"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client9"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client10"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client11"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client15"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client16"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client17"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client12"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client13"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client14"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client6"><img src="../images/spacer.gif" alt="client" /></div>
                <div class="item client7"><img src="../images/spacer.gif" alt="client" /></div>
            </div>
        </div>
    </div>
    <div class="teams-section">
        <div class="container">
            <div class="teams-title">
                <img data-src="../images/team-title.svg" class="lazyload" alt="team" />
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-main">
        <div class="container">
            <div class="row">
                <div class="footer-box">
                    <h3>Services</h3>
                    <div class="footer-innerbox-block">
                        <div class="footer-innerbox">
                            <ul class="listing">
                                <li><a href="../services/application-development.html">Application Development</a></li>
                                <li><a href="#">Digital Transformation</a></li>
                                <li><a href="../services/software-consulting-services.html">Software Consulting Services</a></li>
                                <li><a href="../services/software-it-outsourcing-services.html">Software IT Outsourcing</a></li>
                                <li><a href="../services/offshore-development-center.html">Offshore Development</a></li>
                                <li><a href="../services/big-data-services.html">Big Data</a></li>
                                <li><a href="../services/real-time-data-analytics-services.html">Real Time Analytics</a></li>
                                <li><a href="#">Block Chain</a></li>
                                <li><a href="../services/devops-consulting.html">DevOps</a></li>
                            </ul>
                        </div>
                        <div class="footer-innerbox">
                            <ul class="listing">
                                <li><a href="../services/offshore-qa-testing-services.html">QA and Testing Services</a></li>
                                <li><a href="../services/amazon-cloud-services.html">Amazon Cloud Services</a></li>
                                <li><a href="../services/cloud-application-development.html">Cloud Application</a></li>
                                <li><a href="../services/mobility-solutions.html">Enterprise Mobility</a></li>
                                <li><a href="#">Business Intelligence</a></li>
                                <li><a href="../services/data-warehousing-solutions.html">Data ware Housing</a></li>
                                <li><a href="#">Data Integration</a></li>
                                <li><a href="../services/ETL-data-integration-services.html">ETL</a></li>
                                <li><a href="#">Dashboards</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-box">
                    <h3>Technologies</h3>
                    <div class="footer-innerbox w35">
                        <ul class="listing">
                            <li><a href="../technologies/java-application-development.html">Java</a></li>
                            <li><a href="../technologies/python-development-services.html">Python</a></li>
                            <li><a href="../technologies/scala-development.html">Scala</a></li>
                            <li><a href="../technologies/magento-ecommerce.html">Magento</a></li>
                            <li><a href="../technologies/android-app-development.html">Android</a></li>
                            <li><a href="../technologies/ios-application-development.html">iOS</a></li>
                            <li><a href="../technologies/pentaho-BI-Services.html">Pentaho BI</a></li>
                        </ul>
                    </div>
                    <div class="footer-innerbox w65">
                        <ul class="listing">
                            <li class="list-title">
                                <h3>Microsoft</h3></li>
                            <li><a href="../technologies/net-application-development.html">.Net Development</a></li>
                            <li><a href="../technologies/microsoft-dynamics-365.html">Dynamics 365</a></li>
                            <li><a href="../technologies/dynamics-365-business-central-solutions-development.html">Dynamics 365 Business Central</a></li>
                            <li><a href="../technologies/dynamics365-finance-and-operations.html">Dynamics 365 Finance &amp; Operations</a></li>
                            <li><a href="../technologies/microsoft-dynamics-crm-consulting.html">Dynamics CRM</a></li>
                            <li><a href="#">Power BI</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-box footer_sm">
                    <div class="footer-box-business">
                        <h3>Business with us</h3>
                        <ul class="listing">
                            <li><a href="../company.html">Company</a></li>
                            <li><a href="../contact.html">Contact Us</a></li>
                            <li><a href="../careers.html">Careers</a></li>
                            <li><a href="/articles/">Blog</a></li>
                            <li><a href="mailto:info@nexsoftsys.com">Mail Us</a></li>
                        </ul>
                        <div class="footer-socialbox">
                            <h3>Follow NEX</h3>
                            <div class="ft-social">
                                <a href="https://www.facebook.com/NexSoftSys/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                                <a href="https://twitter.com/nexsoftsys" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                                <a href="https://www.linkedin.com/company/nexsoftware/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                                <a href="https://www.youtube.com/c/Nexsoftsys" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            <div class="ast"><p>An Aegis Group Company</p><span></span></div>
            </div>
        </div>
        <div class="copyright_text">
            <div class="copyright_text">
                <div class="container footer-rating">
                    <p>Copyright &copy; <span id="year"></span> NEX Software All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer /- -->

    <script defer src="../js/jquery-1.12.4.min.js"></script>
    <script defer src="../js/lib.js"></script>
    <script defer src="js/functions.js"></script>

    

</body>

</html>